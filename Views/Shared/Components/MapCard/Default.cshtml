@model EasyToEnter.ASP.ViewsModels.Components.Maps.MapCardViewModel;
@using EasyToEnter.ASP.ViewsModels.Components.Maps;

<div class="px-0 mt-3">
    <div id="map" style="height: 100px; resize: vertical" class="rounded-3 overflow-hidden w-auto bg-light"/>
</div>

<script>
    ymaps.ready(init);
        
    function init() {
        var myMap = new ymaps.Map("map", {
            center: [55.76, 37.64],
            zoom: 2,
            controls: ['fullscreenControl']
        },{
            autoFitToViewport: 'always',
            searchControlProvider: 'yandex#search'
        });
        
        @for(var i = 0; i < Model.UniversityModelList.Count; i++)
        {
            @:myMap.geoObjects.add(new ymaps.Placemark([@Model.UniversityModelList[i]!.AddressModel!.Latitude, @Model.UniversityModelList[i]!.AddressModel!.Longitude], {
                @:hintContent: `@{<vc:university-hint data="new UniversityViewModel(Model.UniversityModelList[i])"/>}`,
                @:balloonContent: `@{<vc:university-balloon data="new UniversityViewModel(Model.UniversityModelList[i])"/>}`
            @:}));
        }

        myMap.container.fitToViewport();
    }
</script>

<style>
    [class*="copyrights-pane"] {
        display: none !important;
    }
</style>