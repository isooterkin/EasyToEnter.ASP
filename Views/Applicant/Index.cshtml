@model EasyToEnter.ASP.ViewsModels.AllInfoViewModel;

@{
    ViewData["Title"] = "Поис направленностей";
}

<div class="text-center m-3">
    <h2>Выбор уровня</h2>
</div>

<!-- Фильтры -->
<form method="get">
    <div class="container">
        <div class="row">

                <!-- Уровень -->
                <select name="level" class="col-sm-3 select_send_ajax selectpicker" data-show-subtext="true" data-live-search="true" asp-items="Model.Levels">
                    <option value=@null>Выберите уровень</option>
                </select>

                <!-- Наука -->
                <select name="science" class="col-sm-3 select_send_ajax selectpicker" data-show-subtext="true" data-live-search="true" asp-items="Model.Sciences">
                    <option value=@null>Выберите науку</option>
                </select>


                <!-- Группа -->
                <select name="group" class="col-sm-3 select_send_ajax selectpicker" data-show-subtext="true" data-live-search="true" asp-items="Model.Groups">
                    <option value=@null>Выберите группу</option>
                </select>

                <!-- Направление -->
                <select name="direction" class="col-sm-3 select_send_ajax selectpicker" data-show-subtext="true" data-live-search="true" asp-items="Model.Directions">
                    <option value=@null>Выберите направление</option>
                </select>

        </div>
    </div>
</form>

<div class="container mt-3">
    <div class="row">
<!-- Вывод направленностей -->
@{Random Random = new();}
@for(var i = 0; i < Model.Focuss.Count; i++)
{
    <vc:level-focus-card data="@Model.Focuss[i]"/>
}
    </div>
</div>

<!-- Навигация -->

<!-- Отправка формы при клике на select-->
@section Scripts 
{
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
        $('.select_send_ajax').on('change', function() 
        {
            $(this.form).submit();
        });
    </script>
}